import unittest
import buysideAnswers as ba


class TestBuyside(unittest.TestCase):

    def test_countUppercase(self):
        count = ba.countUppercase('file1.txt')
        self.assertEqual(88, count)

    def test_fibonacci(self):
        self.assertEqual(17711, ba.fibonacci(22))

    def test_fibonacci_large(self):
        # Hint Do not use recursion
        self.assertEqual(
            377013149387799945333900224880775791236117337930100445535490043525045843539648818562578569150145472631258140598040875416901451349878686710189798735122954887088454924500028574003068434783807870575430696066439101846750599745829545721693784957073273631818673420751972327938538799801845560513422262958882244516053880771140410978978788942838058153862334417256446852231577242261307228498349256708182071208335817888584565766108075330781175405119280446072770439376209526520001751104214901240319492664624851096737783185573483303395157215338535471110527043630771804782569715147171393026481175856948947183228899948494260568208750719855268516476269647878714108168277444438804007613683373880351707165423524328506540659186023484368510133227968867699680214790847184799670735773757954844122828271297646621289176554762574427786113873868257758061282170336001273324376526581229870956568892731479303850890073064863486442100376745831539591175879381143478831554126208085279063513741706269326525112915577755575469466383184602256762543155745636219359236200272816189871334546629683994275939790168821520825923115371290776425534079797676308190573421064864056358117445863611087717811034416870861710009856863627270553744159738699063771087537466728943484891875282416138475233419592000,
            ba.fibonacci(6000))

    def test_transformdata(self):
        data = [
            {
                "id": 187,
                "name": "a"
            },
            {
                "id": 22,
                "name": "b"
            },
            {
                "id": 8,
                "name": "c"
            },
            {
                "id": 76,
                "name": "d"
            }
        ]
        self.assertListEqual([8, 22, 76, 187], ba.extract_ids(data))

    def test_transformdata2(self):
        """
        Look at the expected result and transform the data object
        to match.
        :return:
        """
        data = [
            {
                "id": 187,
                "name": "a"
            },
            {
                "id": 22,
                "name": "b"
            },
            {
                "id": 8,
                "name": "c"
            },
            {
                "id": 76,
                "name": "d"
            }
        ]
        self.assertListEqual([(8, 'd'), (22, 'c'), (76, 'b'), (187, 'a')],
                             ba.transformdata2(data))

    def test_merge(self):
        a = {
            'name': 'james',
            'age': 33,
            'hometown': 'Miami'
        }

        b = {
            'name': 'James',
            'age': 33,
            'hometown': 'Ohio',
            'shoes': 'nike'
        }

        self.assertDictEqual({
            'name': 'james',
            'age': 33,
            'shoes': 'nike',
            'hometown': 'Miami'
        }, ba.mergeDicts(a, b))


if __name__ == '__main__':
    unittest.main()
